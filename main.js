(()=>{"use strict";function e(e){const t=document.createElement("div");t.classList.add("menu-section");const n=document.createElement("h2");return n.textContent=e,t.appendChild(n),t}function t(){const t=document.querySelector(".main");return t.textContent="",t.appendChild(function(){const t=document.createElement("div");t.id="main-menu";const n=e("Entrees"),o=e("Main"),i=e("Stir-Fried"),a=e("Soup");return[{name:"chicken pho",description:"Signature Chicken Pho: $16"},{name:"fried rice",description:"Fried Rice: $17"},{name:"vermicelli",description:"Stir Fry Vermicelli: $16"},{name:"beef",description:"Shaking Beef: $20"},{name:"summer",description:"Summer Rolls: $12"},{name:"rolls",description:"Spring Rolls: $12"},{name:"beefnoodle",description:"Stir-fried rice noodle: $18"},{name:"beefpho",description:"Beef Pho: $18"},{name:"fried wonton",description:"Fried Wonton: $12"},{name:"laksa",description:"Laksa: $18"},{name:"mongolian beef",description:"Mongolian Beef: $20"},{name:"noodlestir",description:"Stir-fried noodles: $16"},{name:"oyster chicken",description:"Oyster Chicken: $18"},{name:"vermicellistir",description:"Stir-fried vermicelli: $16"}].forEach((e=>{const t=function(e,t){const n=document.createElement("div");n.classList.add("menu-item");const o=document.createElement("img");o.src=`images/${e}.jpg`,o.alt=e;const i=document.createElement("div");return i.textContent=t,n.appendChild(o),n.appendChild(i),n}(e.name,e.description);switch(e.name.toLowerCase()){case"chicken pho":case"beefpho":case"beef":case"laksa":a.appendChild(t);break;case"fried rice":case"beefnoodle":case"noodlestir":case"vermicellistir":i.appendChild(t);break;case"vermicelli":case"mongolian beef":case"oyster chicken":o.appendChild(t);break;case"rolls":case"summer":case"fried wonton":n.appendChild(t)}})),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(a),t}()),t}function n(){const e=document.querySelector(".main");e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.id="main-home";const n=document.createElement("h1");n.textContent="About Us";const o=document.createElement("p");o.textContent="Opened in 2012 and located centrally in Marrickville, Pho Phd is a fully licenced Vietnamese restaurant that specialises in traditional Pho Beef Noodle Soup whilst serving other Vietnamese finest favourites. The restaurant continues on from the success and popularity of the original retired PHD Vietnamese Restaurant which was established in 2006.";const a=document.createElement("p");a.textContent="Our extensive menu selections caters for all with a great selection of vegan / vegetarian dishes and gluten-free options. Other services we offer includes take-away, deliveries or catering for that special occasion.";const c=document.createElement("button");return c.textContent="Order Now",c.id="order",c.addEventListener("click",(()=>{t(),i(document.querySelector(".button-nav:nth-child(2)"))})),e.appendChild(n),e.appendChild(o),e.appendChild(a),e.appendChild(c),e}())}function o(){const e=document.createElement("header"),o=document.createElement("h1");return o.textContent="Pho PHD",content.appendChild(e),e.appendChild(o),e.appendChild(function(){const e=document.createElement("nav");e.getAttribute("id","navbar");const o=document.createElement("button");o.classList.add("button-nav"),o.textContent="Home";const a=document.createElement("button");a.textContent="Menu",a.classList.add("menu-btn"),a.classList.add("button-nav");const c=document.createElement("button");c.textContent="Contact",c.classList.add("button-nav");const d=document.createElement("button");return d.textContent="Booking",d.classList.add("button-nav"),e.appendChild(o),e.appendChild(a),e.appendChild(c),e.appendChild(d),a.addEventListener("click",(()=>{t(),i(a)})),d.addEventListener("click",(()=>{(function(){const e=document.querySelector(".main");e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.id="main-booking";const t=document.createElement("h1");t.textContent="Book a Table",e.appendChild(t);const n=document.createElement("form");function o(e,t,o="text"){const i=document.createElement("label");i.textContent=e,i.htmlFor=t;const a=document.createElement("textarea"===o?"textarea":"input");return a.id=t,a.name=t,a.required="textarea"!==o,"textarea"!==o&&(a.type=o),"textarea"===o&&(a.rows=4),n.appendChild(i),n.appendChild(a),a}const i=o("Name:","name"),a=o("Phone Number:","phone","tel"),c=o("Date:","date","date"),d=o("Time:","time","time"),r=document.createElement("label");r.textContent="Dietary Requirements:",r.htmlFor="dietary";const s=document.createElement("textarea");s.id="dietary",s.name="dietary",s.rows=4,n.appendChild(r),n.appendChild(s);const l=document.createElement("button");l.type="submit",l.textContent="Submit",n.appendChild(l);const m=document.createElement("div");return m.id="confirm-modal",m.style.display="none",m.innerHTML='\n        <div class="modal-content">\n            <h2>Confirm Your Booking</h2>\n            <p id="summary-text"></p>\n            <button id="confirm-yes">Yes, Confirm</button>\n            <button id="confirm-no">No, Go Back</button>\n        </div>\n    ',e.appendChild(n),e.appendChild(m),n.addEventListener("submit",(e=>{e.preventDefault();const t=a.value.trim();if(!/^0\d{9}$/.test(t))return alert("Please enter a valid Australian phone number (10 digits, starting with 0)."),void a.focus();document.getElementById("summary-text").innerHTML=`\n        Name: ${i.value}<br>\n        Phone: ${t}<br>\n        Date: ${c.value}<br>\n        Time: ${d.value}<br>\n        Dietary: ${s.value||"None"}\n    `,m.style.display="flex"})),m.addEventListener("click",(e=>{"confirm-yes"===e.target.id&&(alert("Booking request sent!"),m.style.display="none",n.reset()),"confirm-no"===e.target.id&&(m.style.display="none")})),e}())})(),i(d)})),o.addEventListener("click",(()=>{n(),i(o)})),c.addEventListener("click",(()=>{(function(){const e=document.querySelector(".main");e.innerText="",e.appendChild(function(){const e=document.createElement("div");e.id="main-contact";const t=document.createElement("h1");t.textContent="Contact";const n=document.createElement("p");n.textContent="If your order is late, incorrect , or if you're not happy with the food, please contact us directly on 0129230902";const o=document.createElement("h2");o.textContent="Opening hours:";const i=document.createElement("p");i.textContent="Monday to Sunday: 5:15pm - 9:15pm";const a=document.createElement("h2");a.textContent="Delivery hours:";const c=document.createElement("p");c.textContent="Monday to Sunday: 5:00pm - 9:30pm";const d=document.createElement("h2");d.textContent="Location:";const r=document.createElement("img");return r.src="./images/map.png",r.classList.add("map"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(i),e.appendChild(a),e.appendChild(c),e.appendChild(d),e.appendChild(r),e}())})(),i(c)})),e}()),e}function i(e){document.querySelectorAll(".button-nav").forEach((e=>{e.classList.remove("active")})),e.classList.add("active")}!function(){const e=document.getElementById("content");e.appendChild(o()),e.appendChild(function(){const e=document.createElement("main");return e.classList.add("main"),e}()),e.appendChild(function(){const e=document.createElement("footer");e.classList.add("footer");const t=document.createElement("p");return t.textContent="Copyright @Deannguyen",e.appendChild(t),e}()),i(document.querySelector(".button-nav")),n()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hDcEMsRUFBUW5DLFlBQVlnQyxLQUNwQkcsRUFBUW5DLFlBbEJaLFdBQ0ksTUFBTUUsRUFBT1IsU0FBU0MsY0FBYyxRQUVwQyxPQURBTyxFQUFLTixVQUFVQyxJQUFJLFFBQ1pLLENBQ1gsQ0Fjd0J5RixJQUNwQnhELEVBQVFuQyxZQWJaLFdBQ0ksTUFBTTRGLEVBQVNsRyxTQUFTQyxjQUFjLFVBQ3RDaUcsRUFBT2hHLFVBQVVDLElBQUksVUFDckIsTUFBTWdHLEVBQVluRyxTQUFTQyxjQUFjLEtBR3pDLE9BRkFrRyxFQUFVOUYsWUFBYyx3QkFDeEI2RixFQUFPNUYsWUFBWTZGLEdBQ1pELENBQ1gsQ0FNd0JFLElBQ3BCaEUsRUFBZ0JwQyxTQUFTUyxjQUFjLGdCQUN2Q29CLEdBRUosQ0d6RkEsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9tZW51LmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9ob21lLmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9QYWdlbG9hZC5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvYm9va2luZy5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvY29udGFjdC5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY3JlYXRlTWVudSgpIHtcbiAgICBjb25zdCBtYWlubWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1haW5tZW51LmlkID0gXCJtYWluLW1lbnVcIjtcblxuICAgIC8vIENyZWF0ZSBzZWN0aW9uc1xuICAgIGNvbnN0IGVudHJlZVNlY3Rpb24gPSBjcmVhdGVTZWN0aW9uKFwiRW50cmVlc1wiKTtcbiAgICBjb25zdCBtYWluU2VjdGlvbiA9IGNyZWF0ZVNlY3Rpb24oXCJNYWluXCIpO1xuICAgIGNvbnN0IHN0aXJGcmllZFNlY3Rpb24gPSBjcmVhdGVTZWN0aW9uKFwiU3Rpci1GcmllZFwiKTtcbiAgICBjb25zdCBzb3VwU2VjdGlvbiA9IGNyZWF0ZVNlY3Rpb24oXCJTb3VwXCIpO1xuXG4gICAgLy8gTWVudSBpdGVtc1xuICAgIGNvbnN0IGl0ZW1zID0gW1xuICAgICAgICB7IG5hbWU6IFwiY2hpY2tlbiBwaG9cIiwgZGVzY3JpcHRpb246IFwiU2lnbmF0dXJlIENoaWNrZW4gUGhvOiAkMTZcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiZnJpZWQgcmljZVwiLCBkZXNjcmlwdGlvbjogXCJGcmllZCBSaWNlOiAkMTdcIiB9LFxuICAgICAgICB7IG5hbWU6IFwidmVybWljZWxsaVwiLCBkZXNjcmlwdGlvbjogXCJTdGlyIEZyeSBWZXJtaWNlbGxpOiAkMTZcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiYmVlZlwiLCBkZXNjcmlwdGlvbjogXCJTaGFraW5nIEJlZWY6ICQyMFwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJzdW1tZXJcIiwgZGVzY3JpcHRpb246IFwiU3VtbWVyIFJvbGxzOiAkMTJcIiB9LFxuICAgICAgICB7IG5hbWU6IFwicm9sbHNcIiwgZGVzY3JpcHRpb246IFwiU3ByaW5nIFJvbGxzOiAkMTJcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiYmVlZm5vb2RsZVwiLCBkZXNjcmlwdGlvbjogXCJTdGlyLWZyaWVkIHJpY2Ugbm9vZGxlOiAkMThcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiYmVlZnBob1wiLCBkZXNjcmlwdGlvbjogXCJCZWVmIFBobzogJDE4XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcImZyaWVkIHdvbnRvblwiLCBkZXNjcmlwdGlvbjogXCJGcmllZCBXb250b246ICQxMlwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJsYWtzYVwiLCBkZXNjcmlwdGlvbjogXCJMYWtzYTogJDE4XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIm1vbmdvbGlhbiBiZWVmXCIsIGRlc2NyaXB0aW9uOiBcIk1vbmdvbGlhbiBCZWVmOiAkMjBcIiB9LFxuICAgICAgICB7IG5hbWU6IFwibm9vZGxlc3RpclwiLCBkZXNjcmlwdGlvbjogXCJTdGlyLWZyaWVkIG5vb2RsZXM6ICQxNlwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJveXN0ZXIgY2hpY2tlblwiLCBkZXNjcmlwdGlvbjogXCJPeXN0ZXIgQ2hpY2tlbjogJDE4XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcInZlcm1pY2VsbGlzdGlyXCIsIGRlc2NyaXB0aW9uOiBcIlN0aXItZnJpZWQgdmVybWljZWxsaTogJDE2XCIgfVxuICAgIF07XG5cbiAgICAvLyBBc3NpZ24gaXRlbXMgdG8gc2VjdGlvbnMgYmFzZWQgb24gbmFtZVxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGNvbnN0IG1lbnVJdGVtID0gY3JlYXRlTWVudUl0ZW1zKGl0ZW0ubmFtZSwgaXRlbS5kZXNjcmlwdGlvbik7XG4gICAgICAgIHN3aXRjaCAoaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIC8vIFNvdXBcbiAgICAgICAgICAgIGNhc2UgXCJjaGlja2VuIHBob1wiOlxuICAgICAgICAgICAgY2FzZSBcImJlZWZwaG9cIjpcbiAgICAgICAgICAgIGNhc2UgXCJiZWVmXCI6XG4gICAgICAgICAgICBjYXNlIFwibGFrc2FcIjpcbiAgICAgICAgICAgICAgICBzb3VwU2VjdGlvbi5hcHBlbmRDaGlsZChtZW51SXRlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFN0aXItRnJpZWRcbiAgICAgICAgICAgIGNhc2UgXCJmcmllZCByaWNlXCI6XG4gICAgICAgICAgICBjYXNlIFwiYmVlZm5vb2RsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm5vb2RsZXN0aXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJtaWNlbGxpc3RpclwiOlxuICAgICAgICAgICAgICAgIHN0aXJGcmllZFNlY3Rpb24uYXBwZW5kQ2hpbGQobWVudUl0ZW0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBNYWluXG4gICAgICAgICAgICBjYXNlIFwidmVybWljZWxsaVwiOlxuICAgICAgICAgICAgY2FzZSBcIm1vbmdvbGlhbiBiZWVmXCI6XG4gICAgICAgICAgICBjYXNlIFwib3lzdGVyIGNoaWNrZW5cIjpcbiAgICAgICAgICAgICAgICBtYWluU2VjdGlvbi5hcHBlbmRDaGlsZChtZW51SXRlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEVudHJlZVxuICAgICAgICAgICAgY2FzZSBcInJvbGxzXCI6XG4gICAgICAgICAgICBjYXNlIFwic3VtbWVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZnJpZWQgd29udG9uXCI6XG4gICAgICAgICAgICAgICAgZW50cmVlU2VjdGlvbi5hcHBlbmRDaGlsZChtZW51SXRlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFwcGVuZCBzZWN0aW9ucyB0byBtYWluIG1lbnVcbiAgICBtYWlubWVudS5hcHBlbmRDaGlsZChlbnRyZWVTZWN0aW9uKTtcbiAgICBtYWlubWVudS5hcHBlbmRDaGlsZChtYWluU2VjdGlvbik7XG4gICAgbWFpbm1lbnUuYXBwZW5kQ2hpbGQoc3RpckZyaWVkU2VjdGlvbik7XG4gICAgbWFpbm1lbnUuYXBwZW5kQ2hpbGQoc291cFNlY3Rpb24pO1xuXG4gICAgcmV0dXJuIG1haW5tZW51O1xufVxuXG4vLyBDcmVhdGUgYSBzZWN0aW9uIHdyYXBwZXIgd2l0aCBhIGhlYWRpbmdcbmZ1bmN0aW9uIGNyZWF0ZVNlY3Rpb24odGl0bGUpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJtZW51LXNlY3Rpb25cIik7XG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICBoZWFkaW5nLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgc2VjdGlvbi5hcHBlbmRDaGlsZChoZWFkaW5nKTtcbiAgICByZXR1cm4gc2VjdGlvbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWVudUl0ZW1zKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVudUl0ZW1zLmNsYXNzTGlzdC5hZGQoXCJtZW51LWl0ZW1cIik7XG5cbiAgICBjb25zdCBpdGVtSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGl0ZW1JbWFnZS5zcmMgPSBgaW1hZ2VzLyR7bmFtZX0uanBnYDtcbiAgICBpdGVtSW1hZ2UuYWx0ID0gbmFtZTtcblxuICAgIGNvbnN0IGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaXRlbURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG5cbiAgICBtZW51SXRlbXMuYXBwZW5kQ2hpbGQoaXRlbUltYWdlKTtcbiAgICBtZW51SXRlbXMuYXBwZW5kQ2hpbGQoaXRlbURlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gbWVudUl0ZW1zO1xufVxuXG5mdW5jdGlvbiBsb2FkTWVudSgpIHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuICAgIG1haW4udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoY3JlYXRlTWVudSgpKTtcbiAgICByZXR1cm4gbWFpbjtcbn1cblxuZXhwb3J0IHsgbG9hZE1lbnUgfTtcbiIsImltcG9ydCB7IGxvYWRNZW51IH0gZnJvbSBcIi4vbWVudVwiO1xuaW1wb3J0IHsgZ2V0QWN0aXZlQnV0dG9uIH0gZnJvbSBcIi4vUGFnZWxvYWRcIjtcblxuZnVuY3Rpb24gY3JlYXRlSG9tZSgpIHtcbiAgICBjb25zdCBtYWluSG9tZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWFpbkhvbWUuaWQgPSBcIm1haW4taG9tZVwiO1xuICAgIGNvbnN0IG1haW5oZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIG1haW5oZWFkaW5nLnRleHRDb250ZW50ID0gXCJBYm91dCBVc1wiO1xuICAgIGNvbnN0IHBhcmExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcGFyYTEudGV4dENvbnRlbnQgPSBcIk9wZW5lZCBpbiAyMDEyIGFuZCBsb2NhdGVkIGNlbnRyYWxseSBpbiBNYXJyaWNrdmlsbGUsIFBobyBQaGQgaXMgYSBmdWxseSBsaWNlbmNlZCBWaWV0bmFtZXNlIHJlc3RhdXJhbnQgdGhhdCBzcGVjaWFsaXNlcyBpbiB0cmFkaXRpb25hbCBQaG8gQmVlZiBOb29kbGUgU291cCB3aGlsc3Qgc2VydmluZyBvdGhlciBWaWV0bmFtZXNlIGZpbmVzdCBmYXZvdXJpdGVzLiBUaGUgcmVzdGF1cmFudCBjb250aW51ZXMgb24gZnJvbSB0aGUgc3VjY2VzcyBhbmQgcG9wdWxhcml0eSBvZiB0aGUgb3JpZ2luYWwgcmV0aXJlZCBQSEQgVmlldG5hbWVzZSBSZXN0YXVyYW50IHdoaWNoIHdhcyBlc3RhYmxpc2hlZCBpbiAyMDA2LlwiXG4gICAgY29uc3QgcGFyYTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwYXJhMi50ZXh0Q29udGVudCA9IFwiT3VyIGV4dGVuc2l2ZSBtZW51IHNlbGVjdGlvbnMgY2F0ZXJzIGZvciBhbGwgd2l0aCBhIGdyZWF0IHNlbGVjdGlvbiBvZiB2ZWdhbiAvIHZlZ2V0YXJpYW4gZGlzaGVzIGFuZCBnbHV0ZW4tZnJlZSBvcHRpb25zLiBPdGhlciBzZXJ2aWNlcyB3ZSBvZmZlciBpbmNsdWRlcyB0YWtlLWF3YXksIGRlbGl2ZXJpZXMgb3IgY2F0ZXJpbmcgZm9yIHRoYXQgc3BlY2lhbCBvY2Nhc2lvbi5cIjtcbiAgICBjb25zdCBvcmRlckJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgb3JkZXJCdXR0b24udGV4dENvbnRlbnQgPSBcIk9yZGVyIE5vd1wiO1xuICAgIG9yZGVyQnV0dG9uLmlkID0gXCJvcmRlclwiO1xuICAgICAgICBvcmRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbG9hZE1lbnUoKTtcbiAgICAgICAgICAgIGdldEFjdGl2ZUJ1dHRvbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbi1uYXY6bnRoLWNoaWxkKDIpXCIpKTtcbiAgICAgICAgfSk7XG4gICAgbWFpbkhvbWUuYXBwZW5kQ2hpbGQobWFpbmhlYWRpbmcpO1xuICAgIG1haW5Ib21lLmFwcGVuZENoaWxkKHBhcmExKTtcbiAgICBtYWluSG9tZS5hcHBlbmRDaGlsZChwYXJhMik7XG4gICAgbWFpbkhvbWUuYXBwZW5kQ2hpbGQob3JkZXJCdXR0b24pO1xuICAgIHJldHVybiBtYWluSG9tZTtcbn1cblxuZnVuY3Rpb24gbG9hZEhvbWUoKSB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKTtcbiAgICBtYWluLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBtYWluLmFwcGVuZENoaWxkKGNyZWF0ZUhvbWUoKSk7XG59XG5cbmV4cG9ydCB7bG9hZEhvbWV9OyIsImltcG9ydCB7IGxvYWRIb21lfSBmcm9tIFwiLi9ob21lXCI7XG5pbXBvcnQgeyBsb2FkTWVudSB9IGZyb20gXCIuL21lbnVcIjtcbmltcG9ydCB7IGxvYWRDb250YWN0IH0gZnJvbSBcIi4vY29udGFjdFwiO1xuaW1wb3J0IHsgbG9hZEJvb2tpbmcgfSBmcm9tIFwiLi9ib29raW5nXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlciAoKSB7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhlYWRlclwiKTtcbiAgICBjb25zdCByZXN0YXVyYW50TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICByZXN0YXVyYW50TmFtZS50ZXh0Q29udGVudCA9IFwiUGhvIFBIRFwiO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocmVzdGF1cmFudE5hbWUpO1xuICAgIGhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVOYXYoKSk7XG4gICAgcmV0dXJuIGhlYWRlcjtcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVOYXYoKSB7XG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibmF2XCIpO1xubmF2YmFyLmdldEF0dHJpYnV0ZShcImlkXCIsIFwibmF2YmFyXCIpO1xuY29uc3QgaG9tZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5ob21lQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tbmF2XCIpXG5ob21lQnV0dG9uLnRleHRDb250ZW50ID0gXCJIb21lXCI7XG5jb25zdCBtZW51QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbm1lbnVCdXR0b24udGV4dENvbnRlbnQgPSBcIk1lbnVcIjtcbm1lbnVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1lbnUtYnRuXCIpO1xubWVudUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLW5hdlwiKTtcbmNvbnN0IGNvbnRhY3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuY29udGFjdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ29udGFjdFwiO1xuY29udGFjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLW5hdlwiKTtcbmNvbnN0IGJvb2tpbmdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuYm9va2luZ0J1dHRvbi50ZXh0Q29udGVudCA9IFwiQm9va2luZ1wiO1xuYm9va2luZ0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLW5hdlwiKTtcblxubmF2YmFyLmFwcGVuZENoaWxkKGhvbWVCdXR0b24pO1xubmF2YmFyLmFwcGVuZENoaWxkKG1lbnVCdXR0b24pO1xubmF2YmFyLmFwcGVuZENoaWxkKGNvbnRhY3RCdXR0b24pO1xubmF2YmFyLmFwcGVuZENoaWxkKGJvb2tpbmdCdXR0b24pO1xuXG5tZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbG9hZE1lbnUoKTtcbiAgICBnZXRBY3RpdmVCdXR0b24obWVudUJ1dHRvbik7XG59KVxuXG5ib29raW5nQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbG9hZEJvb2tpbmcoKTtcbiAgICBnZXRBY3RpdmVCdXR0b24oYm9va2luZ0J1dHRvbik7XG59KVxuXG5ob21lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbG9hZEhvbWUoKTtcbiAgICBnZXRBY3RpdmVCdXR0b24oaG9tZUJ1dHRvbik7XG59KVxuXG5jb250YWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbG9hZENvbnRhY3QoKTtcbiAgICBnZXRBY3RpdmVCdXR0b24oY29udGFjdEJ1dHRvbik7XG59KVxuXG5yZXR1cm4gbmF2YmFyXG59XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUJ1dHRvbiAoYnV0dG9uKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnV0dG9uLW5hdlwiKS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KVxuICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYWluICgpIHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm1haW5cIik7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwibWFpblwiKTtcbiAgICByZXR1cm4gbWFpbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRm9vdGVyICgpIHtcbiAgICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9vdGVyXCIpO1xuICAgIGZvb3Rlci5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyXCIpO1xuICAgIGNvbnN0IGNvcHlyaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGNvcHlyaWdodC50ZXh0Q29udGVudCA9IFwiQ29weXJpZ2h0IEBEZWFubmd1eWVuXCI7XG4gICAgZm9vdGVyLmFwcGVuZENoaWxkKGNvcHlyaWdodCk7XG4gICAgcmV0dXJuIGZvb3Rlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlV2Vic2l0ZSAoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZUhlYWRlcigpKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZU1haW4oKSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVGb290ZXIoKSk7XG4gICAgZ2V0QWN0aXZlQnV0dG9uKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLW5hdlwiKSk7XG4gICAgbG9hZEhvbWUoKTtcbiAgICByZXR1cm4gY29udGVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlV2Vic2l0ZTtcbmV4cG9ydCB7Z2V0QWN0aXZlQnV0dG9ufTtcbiIsIi8vIGJvb2tpbmcuanNcbmZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmdGb3JtKCkge1xuICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGZvcm1Db250YWluZXIuaWQgPSBcIm1haW4tYm9va2luZ1wiO1xuXG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBoZWFkaW5nLnRleHRDb250ZW50ID0gXCJCb29rIGEgVGFibGVcIjtcbiAgICBmb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuXG4gICAgLy8gSW5wdXQgY3JlYXRvciBoZWxwZXJcbiAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dChsYWJlbFRleHQsIGlkLCB0eXBlID0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gbGFiZWxUZXh0O1xuICAgICAgICBsYWJlbC5odG1sRm9yID0gaWQ7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUgPT09IFwidGV4dGFyZWFcIiA/IFwidGV4dGFyZWFcIiA6IFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LmlkID0gaWQ7XG4gICAgICAgIGlucHV0Lm5hbWUgPSBpZDtcbiAgICAgICAgaW5wdXQucmVxdWlyZWQgPSB0eXBlICE9PSBcInRleHRhcmVhXCI7XG4gICAgICAgIGlmICh0eXBlICE9PSBcInRleHRhcmVhXCIpIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJ0ZXh0YXJlYVwiKSBpbnB1dC5yb3dzID0gNDtcblxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGNyZWF0ZUlucHV0KFwiTmFtZTpcIiwgXCJuYW1lXCIpO1xuICAgIGNvbnN0IHBob25lSW5wdXQgPSBjcmVhdGVJbnB1dChcIlBob25lIE51bWJlcjpcIiwgXCJwaG9uZVwiLCBcInRlbFwiKTtcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBjcmVhdGVJbnB1dChcIkRhdGU6XCIsIFwiZGF0ZVwiLCBcImRhdGVcIik7XG4gICAgY29uc3QgdGltZUlucHV0ID0gY3JlYXRlSW5wdXQoXCJUaW1lOlwiLCBcInRpbWVcIiwgXCJ0aW1lXCIpO1xuXG4gICAgY29uc3QgZGlldGFyeUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGRpZXRhcnlMYWJlbC50ZXh0Q29udGVudCA9IFwiRGlldGFyeSBSZXF1aXJlbWVudHM6XCI7XG4gICAgZGlldGFyeUxhYmVsLmh0bWxGb3IgPSBcImRpZXRhcnlcIjtcbiAgICBjb25zdCBkaWV0YXJ5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgZGlldGFyeUlucHV0LmlkID0gXCJkaWV0YXJ5XCI7XG4gICAgZGlldGFyeUlucHV0Lm5hbWUgPSBcImRpZXRhcnlcIjtcbiAgICBkaWV0YXJ5SW5wdXQucm93cyA9IDQ7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChkaWV0YXJ5TGFiZWwpO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGlldGFyeUlucHV0KTtcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc3VibWl0QnV0dG9uLnR5cGUgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCI7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuXG4gICAgLy8g8J+UuSBNb2RhbCBjb250YWluZXIgKGhpZGRlbiBieSBkZWZhdWx0KVxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtb2RhbC5pZCA9IFwiY29uZmlybS1tb2RhbFwiO1xuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBtb2RhbC5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8aDI+Q29uZmlybSBZb3VyIEJvb2tpbmc8L2gyPlxuICAgICAgICAgICAgPHAgaWQ9XCJzdW1tYXJ5LXRleHRcIj48L3A+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlybS15ZXNcIj5ZZXMsIENvbmZpcm08L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtLW5vXCI+Tm8sIEdvIEJhY2s8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgZm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbCk7XG5cbiAgICAvLyDwn5S5IEhhbmRsZSBzdWJtaXRcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgcGhvbmUgPSBwaG9uZUlucHV0LnZhbHVlLnRyaW0oKTtcblxuICAgIGNvbnN0IHBob25lUmVnZXggPSAvXjBcXGR7OX0kLztcbiAgICBpZiAoIXBob25lUmVnZXgudGVzdChwaG9uZSkpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBBdXN0cmFsaWFuIHBob25lIG51bWJlciAoMTAgZGlnaXRzLCBzdGFydGluZyB3aXRoIDApLlwiKTtcbiAgICAgICAgcGhvbmVJbnB1dC5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdW1tYXJ5LXRleHRcIikuaW5uZXJIVE1MID0gYFxuICAgICAgICBOYW1lOiAke25hbWVJbnB1dC52YWx1ZX08YnI+XG4gICAgICAgIFBob25lOiAke3Bob25lfTxicj5cbiAgICAgICAgRGF0ZTogJHtkYXRlSW5wdXQudmFsdWV9PGJyPlxuICAgICAgICBUaW1lOiAke3RpbWVJbnB1dC52YWx1ZX08YnI+XG4gICAgICAgIERpZXRhcnk6ICR7ZGlldGFyeUlucHV0LnZhbHVlIHx8IFwiTm9uZVwifVxuICAgIGA7XG5cbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG59KTtcblxuICAgIC8vIPCflLkgWWVzIGNvbmZpcm1lZCAtPiBzZW5kICh5b3UgY2FuIHJlcGxhY2UgYWxlcnQgd2l0aCByZWFsIHNlbmQgbG9naWMpXG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gXCJjb25maXJtLXllc1wiKSB7XG4gICAgICAgICAgICBhbGVydChcIkJvb2tpbmcgcmVxdWVzdCBzZW50IVwiKTtcbiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSBcImNvbmZpcm0tbm9cIikge1xuICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybUNvbnRhaW5lcjtcbn1cblxuZnVuY3Rpb24gbG9hZEJvb2tpbmcoKSB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKTtcbiAgICBtYWluLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBtYWluLmFwcGVuZENoaWxkKGNyZWF0ZUJvb2tpbmdGb3JtKCkpO1xuICAgIHJldHVybiBtYWluO1xufVxuXG5leHBvcnQgeyBsb2FkQm9va2luZyB9OyIsImZ1bmN0aW9uIGNyZWF0ZUNvbnRhY3QgKCkge1xuICAgIGNvbnN0IG1haW5jb250YWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluY29udGFjdC5pZCA9IFwibWFpbi1jb250YWN0XCI7XG4gICAgY29uc3QgY29udGFjdGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBjb250YWN0aGVhZGVyLnRleHRDb250ZW50ID0gXCJDb250YWN0XCI7XG4gICAgY29uc3QgcGFyYTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwYXJhMS50ZXh0Q29udGVudCA9IFwiSWYgeW91ciBvcmRlciBpcyBsYXRlLCBpbmNvcnJlY3QgLCBvciBpZiB5b3UncmUgbm90IGhhcHB5IHdpdGggdGhlIGZvb2QsIHBsZWFzZSBjb250YWN0IHVzIGRpcmVjdGx5IG9uIDAxMjkyMzA5MDJcIjtcbiAgICBjb25zdCBoZWFkZXIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGhlYWRlcjIudGV4dENvbnRlbnQgPVwiT3BlbmluZyBob3VyczpcIjtcbiAgICBjb25zdCBwYXJhMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHBhcmEyLnRleHRDb250ZW50ID1cIk1vbmRheSB0byBTdW5kYXk6IDU6MTVwbSAtIDk6MTVwbVwiO1xuICAgIGNvbnN0IGhlYWRlcjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGVyMy50ZXh0Q29udGVudCA9XCJEZWxpdmVyeSBob3VyczpcIjtcbiAgICBjb25zdCBwYXJhMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHBhcmEzLnRleHRDb250ZW50ID1cIk1vbmRheSB0byBTdW5kYXk6IDU6MDBwbSAtIDk6MzBwbVwiO1xuICAgIGNvbnN0IGhlYWRlcjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGVyNC50ZXh0Q29udGVudCA9XCJMb2NhdGlvbjpcIjtcbiAgICBjb25zdCBjb250YWN0aW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnRhY3RpbWFnZS5zcmMgPSBcIi4vaW1hZ2VzL21hcC5wbmdcIjtcbiAgICBjb250YWN0aW1hZ2UuY2xhc3NMaXN0LmFkZChcIm1hcFwiKTtcbiAgICBcbiAgICBtYWluY29udGFjdC5hcHBlbmRDaGlsZChjb250YWN0aGVhZGVyKTtcbiAgICBtYWluY29udGFjdC5hcHBlbmRDaGlsZChwYXJhMSk7XG4gICAgbWFpbmNvbnRhY3QuYXBwZW5kQ2hpbGQoaGVhZGVyMik7XG4gICAgbWFpbmNvbnRhY3QuYXBwZW5kQ2hpbGQocGFyYTIpO1xuICAgIG1haW5jb250YWN0LmFwcGVuZENoaWxkKGhlYWRlcjMpO1xuICAgIG1haW5jb250YWN0LmFwcGVuZENoaWxkKHBhcmEzKTtcbiAgICBtYWluY29udGFjdC5hcHBlbmRDaGlsZChoZWFkZXI0KTtcbiAgICBtYWluY29udGFjdC5hcHBlbmRDaGlsZChjb250YWN0aW1hZ2UpO1xuXG5cbiAgICByZXR1cm4gbWFpbmNvbnRhY3Q7XG59XG5cbmZ1bmN0aW9uIGxvYWRDb250YWN0ICgpIHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuICAgIG1haW4uaW5uZXJUZXh0ID0gXCJcIjtcbiAgICBtYWluLmFwcGVuZENoaWxkKGNyZWF0ZUNvbnRhY3QoKSk7XG4gICAgcmV0dXJuIG1haW47XG59XG5cbmV4cG9ydCB7bG9hZENvbnRhY3R9OyIsImltcG9ydCBjcmVhdGVXZWJzaXRlIGZyb20gXCIuL1BhZ2Vsb2FkXCI7XG5cbmNyZWF0ZVdlYnNpdGUoKTsiXSwibmFtZXMiOlsiY3JlYXRlU2VjdGlvbiIsInRpdGxlIiwic2VjdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImhlYWRpbmciLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwibG9hZE1lbnUiLCJtYWluIiwicXVlcnlTZWxlY3RvciIsIm1haW5tZW51IiwiaWQiLCJlbnRyZWVTZWN0aW9uIiwibWFpblNlY3Rpb24iLCJzdGlyRnJpZWRTZWN0aW9uIiwic291cFNlY3Rpb24iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJmb3JFYWNoIiwiaXRlbSIsIm1lbnVJdGVtIiwibWVudUl0ZW1zIiwiaXRlbUltYWdlIiwic3JjIiwiYWx0IiwiaXRlbURlc2NyaXB0aW9uIiwiY3JlYXRlTWVudUl0ZW1zIiwidG9Mb3dlckNhc2UiLCJjcmVhdGVNZW51IiwibG9hZEhvbWUiLCJtYWluSG9tZSIsIm1haW5oZWFkaW5nIiwicGFyYTEiLCJwYXJhMiIsIm9yZGVyQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEFjdGl2ZUJ1dHRvbiIsImNyZWF0ZUhvbWUiLCJjcmVhdGVIZWFkZXIiLCJoZWFkZXIiLCJyZXN0YXVyYW50TmFtZSIsImNvbnRlbnQiLCJuYXZiYXIiLCJnZXRBdHRyaWJ1dGUiLCJob21lQnV0dG9uIiwibWVudUJ1dHRvbiIsImNvbnRhY3RCdXR0b24iLCJib29raW5nQnV0dG9uIiwiZm9ybUNvbnRhaW5lciIsImZvcm0iLCJjcmVhdGVJbnB1dCIsImxhYmVsVGV4dCIsInR5cGUiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCIsInJlcXVpcmVkIiwicm93cyIsIm5hbWVJbnB1dCIsInBob25lSW5wdXQiLCJkYXRlSW5wdXQiLCJ0aW1lSW5wdXQiLCJkaWV0YXJ5TGFiZWwiLCJkaWV0YXJ5SW5wdXQiLCJzdWJtaXRCdXR0b24iLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBob25lIiwidmFsdWUiLCJ0cmltIiwidGVzdCIsImFsZXJ0IiwiZm9jdXMiLCJnZXRFbGVtZW50QnlJZCIsInRhcmdldCIsInJlc2V0IiwiY3JlYXRlQm9va2luZ0Zvcm0iLCJsb2FkQm9va2luZyIsImlubmVyVGV4dCIsIm1haW5jb250YWN0IiwiY29udGFjdGhlYWRlciIsImhlYWRlcjIiLCJoZWFkZXIzIiwicGFyYTMiLCJoZWFkZXI0IiwiY29udGFjdGltYWdlIiwiY3JlYXRlQ29udGFjdCIsImxvYWRDb250YWN0IiwiY3JlYXRlTmF2IiwiYnV0dG9uIiwicXVlcnlTZWxlY3RvckFsbCIsImJ0biIsInJlbW92ZSIsImNyZWF0ZU1haW4iLCJmb290ZXIiLCJjb3B5cmlnaHQiLCJjcmVhdGVGb290ZXIiXSwic291cmNlUm9vdCI6IiJ9